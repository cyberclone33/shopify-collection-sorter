{% comment %}
  This block adds a LINE login button to your theme
  It can be added to the login page or account page
{% endcomment %}

{% assign button_text = 'line_login.button.login' | t %}
{% if customer %}
  {% assign button_text = 'line_login.button.link' | t %}
{% endif %}

<div class="line-login-button-container" style="margin: 20px 0;">
  <style>
    .line-login-button {
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: {{ block.settings.button_color }};
      color: white;
      border: none;
      border-radius: {{ block.settings.button_border_radius }}px;
      padding: {{ block.settings.button_padding }}px;
      font-weight: bold;
      cursor: pointer;
      width: 100%;
      max-width: {{ block.settings.button_width }}px;
      margin: 0 auto;
      text-decoration: none;
      transition: background-color 0.3s ease;
    }
    
    .line-login-button:hover {
      background-color: #00b300;
    }
    
    .line-login-icon {
      margin-right: 10px;
      width: 24px;
      height: 24px;
    }
  </style>

  <a href="{{ block.settings.app_url }}/auth/line" class="line-login-button">
    <svg class="line-login-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">
      <path fill="#FFFFFF" d="M36 17.478C36 8.072 27.936 0 18 0S0 8.072 0 17.478c0 8.306 7.378 15.29 17.355 16.617.67.144 1.582.445 1.814.997.21.502.14 1.3.07 1.802 0 0-.234 1.393-.285 1.693-.88.502-.4 1.96 1.71 1.07s11.376-6.704 15.518-11.48c2.86-3.15 4.818-6.3 4.818-10.67z"/>
    </svg>
    {{ button_text }}
  </a>
</div>

{% schema %}
{
  "name": "LINE Login Button",
  "target": "section",
  "settings": [
    {
      "type": "text",
      "id": "app_url",
      "label": "App URL",
      "info": "The URL of your Shopify app (e.g., https://your-app-name.onrender.com)",
      "default": ""
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button Color",
      "default": "#06C755"
    },
    {
      "type": "range",
      "id": "button_width",
      "min": 150,
      "max": 400,
      "step": 10,
      "unit": "px",
      "label": "Button Width",
      "default": 250
    },
    {
      "type": "range",
      "id": "button_padding",
      "min": 5,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Button Padding",
      "default": 12
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Button Border Radius",
      "default": 4
    }
  ]
}
{% endschema %}
